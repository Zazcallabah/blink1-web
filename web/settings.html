<!DOCTYPE html>
<html>
<head>
	<title>Blink(1) settings</title>
	<script type="text/javascript" src="api.js" charset="utf-8"></script>
	<style type="text/css">
	#cled1, #cled2 {
		width: 100px;
		height: 100px;
		margin: 20px;
		border: 2px solid black;
	}

	</style>

	<script type="text/javascript">
	var api = new Api();
	var cgamma = 0;
	function gammaAdd(){
		setLocalGamma(cgamma+0.1);
		api.setGammaValue(cgamma);
	}
	
	function gammaSub(){
		setLocalGamma(cgamma-0.1);
		api.setGammaValue(cgamma);
	}
	
	function gammaOff(){
		setLocalGamma(0);
		api.setGammaValue(cgamma);
	}
	
	function setLocalGamma(g){
		document.getElementById("gamma").innerText = "Gamma: "+g;
		cgamma = g;
	}

	window.onload = function() {

		api.getCurrentColor( function(l){
			document.getElementById("cled1").style.backgroundColor = l.ledA;
			document.getElementById("cled2").style.backgroundColor = l.ledB;
		});
		
		api.getGammaValue( function(g){
			setLocalGamma(g.gamma);
		});
		
		api.getVersion( function(g){
			document.getElementById("version").innerText = g.version;
		});
	};
	</script>
</head>

<body>
	<p id="status"></p>
	<p id="version"></p>
	<ul><li id="cled1">&nbsp;</li><li id="cled2">&nbsp;</li></ul>

	<p id="gamma"></p>
	<button onclick="gammaAdd()">+</button>
	<button onclick="gammaSub()">-</button>
	<button onclick="gammaOff()">Off</button>

	<p>
		<ul>
			<li><a href="index.html">Home</a></li>
		</ul>
	</p>
</body>
</html>
